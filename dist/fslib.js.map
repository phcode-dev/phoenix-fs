{"mappings":"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","sources":["src/fslib.js","src/errno.js","src/fslib_native.js","src/fslib_mounts.js","src/mount_point_storage.js","src/constants.js","src/utils.js","src/fslib_watch.js","src/thirdparty/globmatch.js","src/filerlib_copy.js"],"sourcesContent":["/*\n * GNU AGPL-3.0 License\n *\n * Copyright (c) 2021 - present core.ai . All rights reserved.\n *\n * This program is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, either version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see https://opensource.org/licenses/AGPL-3.0.\n *\n */\n\n// jshint ignore: start\n/*global process*/\n/*eslint no-console: 0*/\n/*eslint strict: [\"error\", \"global\"]*/\n\nimport ERR_CODES, {Errors} from './errno.js';\nimport NativeFS from './fslib_native.js';\nimport Constants from './constants.js';\nimport Mounts from './fslib_mounts.js';\nimport FsWatch from './fslib_watch.js';\nimport filerCopy from './filerlib_copy.js';\n\nlet filerLib = null;\nlet filerShell = null;\n\n/**\n * Offers functionality similar to mkdir -p\n *\n * Asynchronous operation. No arguments other than a possible exception\n * are given to the completion callback.\n */\nfunction mkdir_p (fsLib, path, mode, callback, position) {\n    const osSep = '/';\n    const parts = filerLib.path.normalize(path).split(osSep);\n\n    mode = mode || process.umask();\n    position = position || 0;\n\n    if (position >= parts.length) {\n        return callback(null);\n    }\n\n    var directory = parts.slice(0, position + 1).join(osSep) || osSep;\n    fsLib.stat(directory, function(err) {\n        if (err === null) {\n            mkdir_p(fsLib, path, mode, callback, position + 1);\n        } else {\n            fsLib.mkdir(directory, mode, function (error) {\n                if (error && error.code !== 'EEXIST') {\n                    return callback(error);\n                } else {\n                    mkdir_p(fsLib, path, mode, callback, position + 1);\n                }\n            });\n        }\n    });\n}\n\nfunction _ensure_mount_directory() {\n    fileSystemLib.mkdirs(Constants.MOUNT_POINT_ROOT);\n    NativeFS.refreshMountPoints();\n}\n\nfunction _getFirstFunctionIndex(argsArray) {\n    for(let i=0; i<argsArray.length; i++){\n        if (typeof argsArray[i] === 'function') {\n            return i;\n        }\n    }\n    return -1;\n}\n\nconst fileSystemLib = {\n    mountNativeFolder: async function (...args) {\n        return NativeFS.mountNativeFolder(...args);\n    },\n    readdir: function (...args) { // (path, options, callback)\n        let path = args[0];\n        if(Mounts.isMountPath(path) || Mounts.isMountSubPath(path)) {\n            return NativeFS.readdir(...args);\n        }\n        return filerLib.fs.readdir(...args);\n    },\n    stat: function (...args) { // (path, callback)\n        let path = args[0];\n        if(Mounts.isMountSubPath(path)) {\n            return NativeFS.stat(...args);\n        }\n        return filerLib.fs.stat(...args);\n    },\n    readFile: function (...args) { // (path, options, callback)\n        let path = args[0];\n        if(Mounts.isMountSubPath(path)) {\n            return NativeFS.readFile(...args);\n        }\n        return filerLib.fs.readFile(...args);\n    },\n    writeFile: function (...args) { // (path, data, options, callback)\n        let path = args[0];\n        function callbackInterceptor(...interceptedArgs) {\n            let err = interceptedArgs.length >= 1 ? interceptedArgs[0] : null;\n            if(!err){\n                FsWatch.reportChangeEvent(path);\n            }\n            if(args.originalCallback){\n                args.originalCallback(...interceptedArgs);\n            }\n        }\n        let callbackIndex = _getFirstFunctionIndex(args);\n        if(callbackIndex !== -1) {\n            args.originalCallback = args[callbackIndex];\n            args[callbackIndex] = callbackInterceptor;\n        }\n\n        if(Mounts.isMountSubPath(path)) {\n            return NativeFS.writeFile(...args);\n        }\n        return filerLib.fs.writeFile(...args);\n    },\n    mkdir: function (...args) { // (path, mode, callback)\n        let path = args[0];\n        function callbackInterceptor(...interceptedArgs) {\n            let err = interceptedArgs.length >= 1 ? interceptedArgs[0] : null;\n            if(!err){\n                FsWatch.reportCreateEvent(path);\n            }\n            if(args.originalCallback){\n                args.originalCallback(...interceptedArgs);\n            }\n        }\n        let callbackIndex = _getFirstFunctionIndex(args);\n        if(callbackIndex !== -1) {\n            args.originalCallback = args[callbackIndex];\n            args[callbackIndex] = callbackInterceptor;\n        }\n\n        if(Mounts.isMountSubPath(path)) {\n            return NativeFS.mkdir(...args);\n        }\n        return filerLib.fs.mkdir(...args);\n    },\n    rename: function (oldPath, newPath, cb) {\n        function callbackInterceptor(...args) {\n            let err = args.length >= 1 ? args[0] : null;\n            if(!err){\n                FsWatch.reportUnlinkEvent(oldPath);\n                FsWatch.reportCreateEvent(newPath);\n            }\n            if(cb){\n                cb(...args);\n            }\n        }\n\n        if(Mounts.isMountPath(oldPath) || Mounts.isMountPath(newPath)) {\n            throw new Errors.EPERM('Mount root directory cannot be deleted.');\n        } else if(Mounts.isMountSubPath(oldPath) && Mounts.isMountSubPath(newPath)) {\n            return NativeFS.rename(oldPath, newPath, callbackInterceptor);\n        }\n        return filerLib.fs.rename(oldPath, newPath, callbackInterceptor);\n    },\n    unlink: function (path, cb) {\n        function callbackInterceptor(...args) {\n            let err = args.length >= 1 ? args[0] : null;\n            if(!err){\n                FsWatch.reportUnlinkEvent(path);\n            }\n            if(cb){\n                cb(...args);\n            }\n        }\n\n        if(Mounts.isMountPath(path)) {\n            throw new Errors.EPERM('Mount root directory cannot be deleted.');\n        } else if(Mounts.isMountSubPath(path)) {\n            return NativeFS.unlink(path, callbackInterceptor);\n        }\n        if (typeof path !== 'string') {\n            callbackInterceptor(new Errors.EINVAL('Invalid arguments.'));\n            return;\n        }\n        return filerShell.rm(path, { recursive: true }, callbackInterceptor);\n    },\n    copy: function (src, dst, cb) {\n        function callbackInterceptor(...args) {\n            let err = args.length >= 1 ? args[0] : null;\n            if(!err){\n                FsWatch.reportCreateEvent(dst);\n            }\n            if(cb){\n                cb(...args);\n            }\n        }\n\n        if(Mounts.isMountSubPath(src) && Mounts.isMountSubPath(dst)) {\n            return NativeFS.copy(src, dst, callbackInterceptor);\n        } else if(!Mounts.isMountSubPath(src) && !Mounts.isMountSubPath(dst)) {\n            return filerCopy(src, dst, callbackInterceptor);\n        }\n        throw new Errors.ENOSYS('Phoenix fs copy across filer and native not yet supported');\n    },\n    showSaveDialog: function () {\n        throw new Errors.ENOSYS('Phoenix fs showSaveDialog function not yet supported.');\n    },\n    watch: function (...args) {\n        return FsWatch.watch(...args);\n    },\n    unwatch: function (...args) {\n        return FsWatch.unwatch(...args);\n    },\n    unwatchAll: function (...args) {\n        return FsWatch.unwatchAll(...args);\n    },\n    moveToTrash: function () {\n        throw new Errors.ENOSYS('Phoenix fs moveToTrash function not yet supported.');\n    },\n    mkdirs: function (path, mode, recursive, callback) {\n        if (typeof recursive !== 'boolean') {\n            callback = recursive;\n            recursive = false;\n        }\n\n        if (typeof callback !== 'function') {\n            callback = function () {\n                // Do Nothing\n            };\n        }\n\n        if (!recursive) {\n            fileSystemLib.mkdir(path, mode, callback);\n        } else {\n            mkdir_p(fileSystemLib, path, mode, callback);\n        }\n    },\n    BYTE_ARRAY_ENCODING: NativeFS.BYTE_ARRAY_ENCODING,\n    ERR_NOT_FOUND: ERR_CODES.ERROR_CODES.ENOENT,\n    ERR_EISDIR: ERR_CODES.ERROR_CODES.EISDIR,\n    ERR_EINVAL: ERR_CODES.ERROR_CODES.EINVAL,\n    ERR_FILE_EXISTS: ERR_CODES.ERROR_CODES.EEXIST\n};\n\nfileSystemLib.copyFile = fileSystemLib.copy;\n\nexport default function initFsLib(Phoenix, FilerLib) {\n    filerLib = FilerLib;\n    filerShell = new filerLib.fs.Shell();\n    window.path = FilerLib.path;\n    window.fs = fileSystemLib;\n\n    _ensure_mount_directory();\n}\n","/*\n * GNU AGPL-3.0 License\n *\n * Copyright (c) 2021 - present core.ai . All rights reserved.\n * Copyright (c) 2012-2015 Rod Vagg (@rvagg)\n * Based on : https://github.com/rvagg/node-errno\n *\n * This program is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, either version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see https://opensource.org/licenses/AGPL-3.0.\n *\n */\n\n// jshint ignore: start\n/*eslint-env es6*/\n/*eslint no-console: 0*/\n/*eslint strict: [\"error\", \"global\"]*/\n\n\n/** All phoenix shell errors and their description.\n *\n * This module should be functionally as light weight as possible with minimal deps as it is a shell component.\n * **/\n\nconst ERROR_CODES = {\n    ENOENT: 'ENOENT',\n    UNKNOWN: 'UNKNOWN',\n    OK: 'OK',\n    EOF: 'EOF',\n    EADDRINFO: 'EADDRINFO',\n    EACCES: 'EACCES',\n    EAGAIN: 'EAGAIN',\n    EADDRINUSE: 'EADDRINUSE',\n    EADDRNOTAVAIL: 'EADDRNOTAVAIL',\n    EAFNOSUPPORT: 'EAFNOSUPPORT',\n    EALREADY: 'EALREADY',\n    EBADF: 'EBADF',\n    EBUSY: 'EBUSY',\n    ECONNABORTED: 'ECONNABORTED',\n    ECONNREFUSED: 'ECONNREFUSED',\n    ECONNRESET: 'ECONNRESET',\n    EDESTADDRREQ: 'EDESTADDRREQ',\n    EFAULT: 'EFAULT',\n    EHOSTUNREACH: 'EHOSTUNREACH',\n    EINTR: 'EINTR',\n    EINVAL: 'EINVAL',\n    EISCONN: 'EISCONN',\n    EMFILE: 'EMFILE',\n    EMSGSIZE: 'EMSGSIZE',\n    ENETDOWN: 'ENETDOWN',\n    ENETUNREACH: 'ENETUNREACH',\n    ENFILE: 'ENFILE',\n    ENOBUFS: 'ENOBUFS',\n    ENOMEM: 'ENOMEM',\n    ENOTDIR: 'ENOTDIR',\n    EISDIR: 'EISDIR',\n    ENONET: 'ENONET',\n    ENOTCONN: 'ENOTCONN',\n    ENOTSOCK: 'ENOTSOCK',\n    ENOTSUP: 'ENOTSUP',\n    ENOSYS: 'ENOSYS',\n    EPIPE: 'EPIPE',\n    EPROTO: 'EPROTO',\n    EPROTONOSUPPORT: 'EPROTONOSUPPORT',\n    EPROTOTYPE: 'EPROTOTYPE',\n    ETIMEDOUT: 'ETIMEDOUT',\n    ECHARSET: 'ECHARSET',\n    EAIFAMNOSUPPORT: 'EAIFAMNOSUPPORT',\n    EAISERVICE: 'EAISERVICE',\n    EAISOCKTYPE: 'EAISOCKTYPE',\n    ESHUTDOWN: 'ESHUTDOWN',\n    EEXIST: 'EEXIST',\n    ESRCH: 'ESRCH',\n    ENAMETOOLONG: 'ENAMETOOLONG',\n    EPERM: 'EPERM',\n    ELOOP: 'ELOOP',\n    EXDEV: 'EXDEV',\n    ENOTEMPTY: 'ENOTEMPTY',\n    ENOSPC: 'ENOSPC',\n    EIO: 'EIO',\n    EROFS: 'EROFS',\n    ENODEV: 'ENODEV',\n    ESPIPE: 'ESPIPE',\n    ECANCELED: 'ECANCELED'\n};\n\nconst FS_ERROR_CODES = {\n    ENOENT: ERROR_CODES.ENOENT, //no such file or directory\n    EOF: ERROR_CODES.EOF, //end of file\n    EACCES: ERROR_CODES.EACCES, //permission denied\n    EAGAIN: ERROR_CODES.EAGAIN, //resource temporarily unavailable\n    EBADF: ERROR_CODES.EBADF, //bad file descriptor\n    EBUSY: ERROR_CODES.EBUSY, //resource busy or locked\n    EINVAL: ERROR_CODES.EINVAL, //invalid argument\n    EMFILE: ERROR_CODES.EMFILE, //too many open files,\n    ENFILE: ERROR_CODES.ENFILE, //file table overflow\n    ENOBUFS: ERROR_CODES.ENOBUFS, //no buffer space available\n    ENOTDIR: ERROR_CODES.ENOTDIR, //not a directory\n    EISDIR: ERROR_CODES.EISDIR, //illegal operation on a directory\n    ENOSYS: ERROR_CODES.ENOSYS, //function not implemented. Eg. creating linux sym links in win\n    ECHARSET: ERROR_CODES.ECHARSET, //invalid Unicode character\n    EEXIST: ERROR_CODES.EEXIST, //file already exists\n    ENAMETOOLONG: ERROR_CODES.ENAMETOOLONG, //name too long\n    EPERM: ERROR_CODES.EPERM, //operation not permitted\n    ELOOP: ERROR_CODES.ELOOP, //too many symbolic links encountered\n    EXDEV: ERROR_CODES.EXDEV, //cross-device link not permitted\n    ENOTEMPTY: ERROR_CODES.ENOTEMPTY, //directory not empty\n    ENOSPC: ERROR_CODES.ENOSPC, //no space left on device\n    EIO: ERROR_CODES.EIO, //i/o error\n    EROFS: ERROR_CODES.EROFS, //read-only file system\n    ESPIPE: ERROR_CODES.ESPIPE, //invalid seek\n    ECANCELED: ERROR_CODES.ECANCELED //operation canceled\n};\n\nconst ALL_ERRORS = [\n    {\n        errno: -2,\n        code: ERROR_CODES.ENOENT,\n        description: 'no such file or directory'\n    },\n    {\n        errno: -1,\n        code: ERROR_CODES.UNKNOWN,\n        description: 'unknown error'\n    },\n    {\n        errno: 0,\n        code: ERROR_CODES.OK,\n        description: 'success'\n    },\n    {\n        errno: 1,\n        code: ERROR_CODES.EOF,\n        description: 'end of file'\n    },\n    {\n        errno: 2,\n        code: ERROR_CODES.EADDRINFO,\n        description: 'getaddrinfo error'\n    },\n    {\n        errno: 3,\n        code: ERROR_CODES.EACCES,\n        description: 'permission denied'\n    },\n    {\n        errno: 4,\n        code: ERROR_CODES.EAGAIN,\n        description: 'resource temporarily unavailable'\n    },\n    {\n        errno: 5,\n        code: ERROR_CODES.EADDRINUSE,\n        description: 'address already in use'\n    },\n    {\n        errno: 6,\n        code: ERROR_CODES.EADDRNOTAVAIL,\n        description: 'address not available'\n    },\n    {\n        errno: 7,\n        code: ERROR_CODES.EAFNOSUPPORT,\n        description: 'address family not supported'\n    },\n    {\n        errno: 8,\n        code: ERROR_CODES.EALREADY,\n        description: 'connection already in progress'\n    },\n    {\n        errno: 9,\n        code: ERROR_CODES.EBADF,\n        description: 'bad file descriptor'\n    },\n    {\n        errno: 10,\n        code: ERROR_CODES.EBUSY,\n        description: 'resource busy or locked'\n    },\n    {\n        errno: 11,\n        code: ERROR_CODES.ECONNABORTED,\n        description: 'software caused connection abort'\n    },\n    {\n        errno: 12,\n        code: ERROR_CODES.ECONNREFUSED,\n        description: 'connection refused'\n    },\n    {\n        errno: 13,\n        code: ERROR_CODES.ECONNRESET,\n        description: 'connection reset by peer'\n    },\n    {\n        errno: 14,\n        code: ERROR_CODES.EDESTADDRREQ,\n        description: 'destination address required'\n    },\n    {\n        errno: 15,\n        code: ERROR_CODES.EFAULT,\n        description: 'bad address in system call argument'\n    },\n    {\n        errno: 16,\n        code: ERROR_CODES.EHOSTUNREACH,\n        description: 'host is unreachable'\n    },\n    {\n        errno: 17,\n        code: ERROR_CODES.EINTR,\n        description: 'interrupted system call'\n    },\n    {\n        errno: 18,\n        code: ERROR_CODES.EINVAL,\n        description: 'invalid argument'\n    },\n    {\n        errno: 19,\n        code: ERROR_CODES.EISCONN,\n        description: 'socket is already connected'\n    },\n    {\n        errno: 20,\n        code: ERROR_CODES.EMFILE,\n        description: 'too many open files'\n    },\n    {\n        errno: 21,\n        code: ERROR_CODES.EMSGSIZE,\n        description: 'message/datagram too long'\n    },\n    {\n        errno: 22,\n        code: ERROR_CODES.ENETDOWN,\n        description: 'network is down'\n    },\n    {\n        errno: 23,\n        code: ERROR_CODES.ENETUNREACH,\n        description: 'network is unreachable'\n    },\n    {\n        errno: 24,\n        code: ERROR_CODES.ENFILE,\n        description: 'file table overflow'\n    },\n    {\n        errno: 25,\n        code: ERROR_CODES.ENOBUFS,\n        description: 'no buffer space available'\n    },\n    {\n        errno: 26,\n        code: ERROR_CODES.ENOMEM,\n        description: 'not enough memory/ high virtual memory usage'\n    },\n    {\n        errno: 27,\n        code: ERROR_CODES.ENOTDIR,\n        description: 'not a directory'\n    },\n    {\n        errno: 28,\n        code: ERROR_CODES.EISDIR,\n        description: 'illegal operation on a directory'\n    },\n    {\n        errno: 29,\n        code: ERROR_CODES.ENONET,\n        description: 'machine is not on the network'\n    },\n    {\n        errno: 31,\n        code: ERROR_CODES.ENOTCONN,\n        description: 'socket is not connected'\n    },\n    {\n        errno: 32,\n        code: ERROR_CODES.ENOTSOCK,\n        description: 'socket operation on non-socket'\n    },\n    {\n        errno: 33,\n        code: ERROR_CODES.ENOTSUP,\n        description: 'operation not supported on socket'\n    },\n    {\n        errno: 34,\n        code: ERROR_CODES.ENOENT,\n        description: 'no such file or directory'\n    },\n    {\n        errno: 35,\n        code: ERROR_CODES.ENOSYS,\n        description: 'function not implemented'\n    },\n    {\n        errno: 36,\n        code: ERROR_CODES.EPIPE,\n        description: 'broken pipe'\n    },\n    {\n        errno: 37,\n        code: ERROR_CODES.EPROTO,\n        description: 'protocol error'\n    },\n    {\n        errno: 38,\n        code: ERROR_CODES.EPROTONOSUPPORT,\n        description: 'protocol not supported'\n    },\n    {\n        errno: 39,\n        code: ERROR_CODES.EPROTOTYPE,\n        description: 'protocol wrong type for socket'\n    },\n    {\n        errno: 40,\n        code: ERROR_CODES.ETIMEDOUT,\n        description: 'connection timed out'\n    },\n    {\n        errno: 41,\n        code: ERROR_CODES.ECHARSET,\n        description: 'invalid Unicode character'\n    },\n    {\n        errno: 42,\n        code: ERROR_CODES.EAIFAMNOSUPPORT,\n        description: 'address family for hostname not supported'\n    },\n    {\n        errno: 44,\n        code: ERROR_CODES.EAISERVICE,\n        description: 'servname not supported for ai_socktype'\n    },\n    {\n        errno: 45,\n        code: ERROR_CODES.EAISOCKTYPE,\n        description: 'ai_socktype not supported'\n    },\n    {\n        errno: 46,\n        code: ERROR_CODES.ESHUTDOWN,\n        description: 'cannot send after transport endpoint shutdown'\n    },\n    {\n        errno: 47,\n        code: ERROR_CODES.EEXIST,\n        description: 'file already exists'\n    },\n    {\n        errno: 48,\n        code: ERROR_CODES.ESRCH,\n        description: 'no such process'\n    },\n    {\n        errno: 49,\n        code: ERROR_CODES.ENAMETOOLONG,\n        description: 'name too long'\n    },\n    {\n        errno: 50,\n        code: ERROR_CODES.EPERM,\n        description: 'operation not permitted'\n    },\n    {\n        errno: 51,\n        code: ERROR_CODES.ELOOP,\n        description: 'too many symbolic links encountered'\n    },\n    {\n        errno: 52,\n        code: ERROR_CODES.EXDEV,\n        description: 'cross-device link not permitted'\n    },\n    {\n        errno: 53,\n        code: ERROR_CODES.ENOTEMPTY,\n        description: 'directory not empty'\n    },\n    {\n        errno: 54,\n        code: ERROR_CODES.ENOSPC,\n        description: 'no space left on device'\n    },\n    {\n        errno: 55,\n        code: ERROR_CODES.EIO,\n        description: 'i/o error'\n    },\n    {\n        errno: 56,\n        code: ERROR_CODES.EROFS,\n        description: 'read-only file system'\n    },\n    {\n        errno: 57,\n        code: ERROR_CODES.ENODEV,\n        description: 'no such device'\n    },\n    {\n        errno: 58,\n        code: ERROR_CODES.ESPIPE,\n        description: 'invalid seek'\n    },\n    {\n        errno: 59,\n        code: ERROR_CODES.ECANCELED,\n        description: 'operation canceled'\n    }\n];\n\nlet ERRNO_TO_ERROR_MAP = {};\nlet CODE_TO_ERROR_MAP = {};\n\nALL_ERRORS.forEach(function (error) {\n    ERRNO_TO_ERROR_MAP[error.errno] = error;\n    CODE_TO_ERROR_MAP[error.code] = error;\n});\n\nconst ERR_CODES = {\n    ERROR_CODES: ERROR_CODES,\n    FS_ERROR_CODES: FS_ERROR_CODES,\n    ALL_ERRORS: ALL_ERRORS,\n    ERRNO_TO_ERROR_MAP: ERRNO_TO_ERROR_MAP,\n    CODE_TO_ERROR_MAP: CODE_TO_ERROR_MAP\n};\n\nconst Errors = {};\n[\n    /**\n     * node.js errors - we only use some of these, add as needed.\n     */\n    //'-1:UNKNOWN:unknown error',\n    //'0:OK:success',\n    //'1:EOF:end of file',\n    //'2:EADDRINFO:getaddrinfo error',\n    '3:EACCES:permission denied',\n    //'4:EAGAIN:resource temporarily unavailable',\n    //'5:EADDRINUSE:address already in use',\n    //'6:EADDRNOTAVAIL:address not available',\n    //'7:EAFNOSUPPORT:address family not supported',\n    //'8:EALREADY:connection already in progress',\n    '9:EBADF:bad file descriptor',\n    '10:EBUSY:resource busy or locked',\n    //'11:ECONNABORTED:software caused connection abort',\n    //'12:ECONNREFUSED:connection refused',\n    //'13:ECONNRESET:connection reset by peer',\n    //'14:EDESTADDRREQ:destination address required',\n    //'15:EFAULT:bad address in system call argument',\n    //'16:EHOSTUNREACH:host is unreachable',\n    //'17:EINTR:interrupted system call',\n    '18:EINVAL:invalid argument',\n    //'19:EISCONN:socket is already connected',\n    //'20:EMFILE:too many open files',\n    //'21:EMSGSIZE:message too long',\n    //'22:ENETDOWN:network is down',\n    //'23:ENETUNREACH:network is unreachable',\n    //'24:ENFILE:file table overflow',\n    //'25:ENOBUFS:no buffer space available',\n    //'26:ENOMEM:not enough memory',\n    '27:ENOTDIR:not a directory',\n    '28:EISDIR:illegal operation on a directory',\n    //'29:ENONET:machine is not on the network',\n    // errno 30 skipped, as per https://github.com/rvagg/node-errno/blob/master/errno.js\n    //'31:ENOTCONN:socket is not connected',\n    //'32:ENOTSOCK:socket operation on non-socket',\n    //'33:ENOTSUP:operation not supported on socket',\n    '34:ENOENT:no such file or directory',\n    '35:ENOSYS:function not implemented',\n    //'36:EPIPE:broken pipe',\n    //'37:EPROTO:protocol error',\n    //'38:EPROTONOSUPPORT:protocol not supported',\n    //'39:EPROTOTYPE:protocol wrong type for socket',\n    //'40:ETIMEDOUT:connection timed out',\n    //'41:ECHARSET:invalid Unicode character',\n    //'42:EAIFAMNOSUPPORT:address family for hostname not supported',\n    // errno 43 skipped, as per https://github.com/rvagg/node-errno/blob/master/errno.js\n    //'44:EAISERVICE:servname not supported for ai_socktype',\n    //'45:EAISOCKTYPE:ai_socktype not supported',\n    //'46:ESHUTDOWN:cannot send after transport endpoint shutdown',\n    '47:EEXIST:file already exists',\n    //'48:ESRCH:no such process',\n    //'49:ENAMETOOLONG:name too long',\n    '50:EPERM:operation not permitted',\n    '51:ELOOP:too many symbolic links encountered',\n    //'52:EXDEV:cross-device link not permitted',\n    '53:ENOTEMPTY:directory not empty',\n    //'54:ENOSPC:no space left on device',\n    '55:EIO:i/o error',\n    //'56:EROFS:read-only file system',\n    //'57:ENODEV:no such device',\n    //'58:ESPIPE:invalid seek',\n    //'59:ECANCELED:operation canceled',\n\n    /**\n     * Phoenix/Filer specific errors\n     */\n    '1000:ENOTMOUNTED:not mounted',\n    '1001:EFILESYSTEMERROR:missing super node, use \\'FORMAT\\' flag to format filesystem.',\n    '1002:ENOATTR:attribute does not exist'\n\n].forEach(function (e) {\n    e = e.split(':');\n    var errno = +e[0];\n    var errName = e[1];\n    var defaultMessage = e[2];\n\n    function FilerError(msg, path) {\n        Error.call(this);\n\n        this.name = errName;\n        this.code = errName;\n        this.errno = errno;\n        this.message = msg || defaultMessage;\n        if (path) {\n            this.path = path;\n        }\n        this.stack = (new Error(this.message)).stack;\n    }\n\n    FilerError.prototype = Object.create(Error.prototype);\n    FilerError.prototype.constructor = FilerError;\n    FilerError.prototype.toString = function () {\n        var pathInfo = this.path ? (', \\'' + this.path + '\\'') : '';\n        return this.name + ': ' + this.message + pathInfo;\n    };\n\n    // We expose the error as both Errors.EINVAL and Errors[18]\n    Errors[errName] = Errors[errno] = FilerError;\n});\n\n\nmodule.exports = {\n    ERR_CODES: ERR_CODES,\n    Errors: Errors\n};\n","/*\n * GNU AGPL-3.0 License\n *\n * Copyright (c) 2021 - present core.ai . All rights reserved.\n *\n * This program is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, either version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see https://opensource.org/licenses/AGPL-3.0.\n *\n */\n\n// jshint ignore: start\n/*global TextDecoder, buffer*/\n/*eslint no-console: 0*/\n/*eslint strict: [\"error\", \"global\"]*/\n\nimport Mounts from './fslib_mounts.js';\nimport {Errors} from './errno.js';\nimport Constants from './constants.js';\nimport Utils from './utils.js';\n\n\nasync function _listDir(handle, callback) {\n    let dirEntryNames = [];\n    for await (const [key] of handle.entries()) {\n        dirEntryNames.push(key);\n    }\n    if(callback){\n        callback(null, dirEntryNames);\n    }\n    return dirEntryNames;\n}\n\n\nasync function _mkdir(paretDirHandle, dirName, callback) {\n    try {\n        let childDirHandle = await paretDirHandle.getDirectoryHandle(dirName, { create: true });\n        if(callback){\n            callback(null);\n        }\n        return childDirHandle;\n    } catch (e) {\n        if(callback){\n            callback(new Errors.EIO('Filer native fs function not yet supported.', e));\n        }\n        throw new Errors.EIO('Filer native fs function not yet supported.', e);\n    }\n}\n\n\nfunction mkdir(path, mode, callback) {\n    if (arguments.length < 4) {\n        callback = mode;\n    }\n\n    path = window.path.normalize(path);\n    let dirname= window.path.dirname(path);\n    let subdirName= window.path.basename(path);\n    Mounts.getHandleFromPath(dirname, (err, handle) => {\n        if(err){\n            callback(err);\n        } else if (handle.kind === Constants.KIND_FILE) {\n            callback(new Errors.ENOTDIR('Parent path is not a directory.'));\n        }else {\n            _mkdir(handle, subdirName, callback);\n        }\n    });\n}\n\n\nfunction readdir(path, options, callback) {\n    path = window.path.normalize(path);\n    if (typeof options !== 'function') {\n        throw new Errors.ENOSYS('Filer readdir options are not yet supported');\n    }\n    callback = options;\n\n    if(path === Constants.MOUNT_POINT_ROOT ) {\n        let mountedFolders = Object.keys(Mounts.getMountPoints());\n        callback(null, mountedFolders);\n    } else {\n        Mounts.getHandleFromPath(path, (err, handle) => {\n            if(err){\n                callback(err);\n            } else if (handle.kind === Constants.KIND_FILE) {\n                callback(new Errors.ENOTDIR('Path is not a directory.'));\n            }else {\n                _listDir(handle, callback);\n            }\n        });\n    }\n}\n\nfunction _getDecodedString(buffer, encoding) {\n    try {\n        return new TextDecoder(encoding).decode(buffer);\n    } catch (e) {\n        return null;\n    }\n}\n\nasync function _getFileContents(fileHandle, encoding, callback) {\n    encoding = encoding || 'utf-8';\n    try {\n        let file = await fileHandle.getFile();\n        let buffer = await file.arrayBuffer();\n        if(encoding === BYTE_ARRAY_ENCODING) {\n            callback(null, buffer, encoding);\n            return;\n        }\n        let decodedString = _getDecodedString(buffer, encoding);\n        if(decodedString !== null){\n            callback(null, decodedString, encoding);\n        } else {\n            callback(new Errors.EIO(`Encoding ${encoding} no supported`));\n        }\n    } catch (e) {\n        callback(e);\n    }\n}\n\nfunction _validateFileOptions(options, enc, fileMode){\n    if(!options) {\n        options = { encoding: enc, flag: fileMode };\n    } else if(typeof options === 'function') {\n        options = { encoding: enc, flag: fileMode };\n    } else if(typeof options === 'string') {\n        options = { encoding: options, flag: fileMode };\n    }\n    return options;\n}\n\nfunction readFile(path, options, callback) {\n    path = window.path.normalize(path);\n\n    callback = arguments[arguments.length - 1];\n    options = _validateFileOptions(options, null, 'r');\n\n    Mounts.getHandleFromPath(path, (err, handle) => {\n        if(err){\n            callback(err);\n        } else if (handle.kind === Constants.KIND_DIRECTORY) {\n            callback(new Errors.EISDIR('Path is a directory.'));\n        }else {\n            _getFileContents(handle, options.encoding, callback);\n        }\n    });\n}\n\n\nfunction stat(path, callback) {\n    path = window.path.normalize(path);\n    Mounts.getHandleFromPath(path, (err, handle) => {\n        if(err){\n            callback(err);\n        } else {\n            Utils.createStatObject(path, handle).then(pathStat => {\n                callback(null, pathStat);\n            }).catch( error => {\n                callback(error);\n            });\n        }\n    });\n}\n\n\nasync function _writeFileWithName(paretDirHandle, fileName, encoding, data, callback) {\n    try {\n        const newFileHandle = await paretDirHandle.getFileHandle(fileName, { create: true });\n        const writable = await newFileHandle.createWritable();\n        await writable.write(data);\n        await writable.close();\n        callback(null);\n    } catch (e) {\n        callback(e);\n    }\n}\n\nfunction writeFile (path, data, options, callback) {\n    callback = arguments[arguments.length - 1];\n    options = _validateFileOptions(options, 'utf8', 'w');\n    if(!buffer.Buffer.isBuffer(data)) {\n        if(typeof data === 'number') {\n            data = '' + data;\n        }\n        data = data || '';\n        if(typeof data !== 'string') {\n            data = buffer.Buffer.from(data.toString());\n        } else {\n            data = buffer.Buffer.from(data || '', options.encoding || 'utf8');\n        }\n    }\n\n    path = window.path.normalize(path);\n    let dirname= window.path.dirname(path);\n    let fileName= window.path.basename(path);\n    Mounts.getHandleFromPath(dirname, (err, handle) => {\n        if(err){\n            callback(err);\n        } else if (handle.kind === Constants.KIND_FILE) {\n            callback(new Errors.ENOTDIR('Parent path is not a directory.'));\n        }else {\n            _writeFileWithName(handle, fileName, options.encoding, data, callback);\n        }\n    });\n}\n\nasync function _deleteEntry(dirHandle, entryNameToDelete, callback, recursive=true){\n    try {\n        await dirHandle.removeEntry(entryNameToDelete, { recursive: recursive });\n        callback(null);\n    } catch (err) {\n        callback(err);\n    }\n}\n\nasync function unlink(path, callback) {\n    path = window.path.normalize(path);\n    let dirPath= window.path.dirname(path);\n    let baseName= window.path.basename(path);\n    Mounts.getHandleFromPath(dirPath, async (err, dirHandle) => {\n        if(err){\n            callback(err);\n        } else {\n            _deleteEntry(dirHandle, baseName, callback);\n        }\n    });\n}\n\nasync function _getDestinationHandleForCopy(dst, srcBaseName, handleKindToCreate) {\n    return new Promise(async (resolve, reject) => {\n        dst = window.path.normalize(dst);\n        let dirPath= window.path.dirname(dst);\n        let dstBaseName= window.path.basename(dst);\n        let dstHandle = await Mounts.getHandleFromPathIfPresent(dst);\n        let dstParentHandle = await Mounts.getHandleFromPathIfPresent(dirPath);\n        if (dstHandle && dstHandle.kind === Constants.KIND_FILE) {\n            reject(new Errors.EEXIST(`Destination file already exists: ${dst}`));\n        } else if (dstHandle && dstHandle.kind === Constants.KIND_DIRECTORY\n            && handleKindToCreate === Constants.KIND_FILE) {\n            const fileHandle = await dstHandle.getFileHandle(srcBaseName, {create: true});\n            resolve(fileHandle);\n        } else if (dstHandle && dstHandle.kind === Constants.KIND_DIRECTORY\n            && handleKindToCreate === Constants.KIND_DIRECTORY) {\n            let dstChildHandle = await Mounts.getHandleFromPathIfPresent(`${dst}/${srcBaseName}`);\n            if(dstChildHandle){\n                reject(new Errors.EEXIST(`Copy destination already exists: ${dst}/${srcBaseName}`));\n                return;\n            }\n            const directoryHandle = await dstHandle.getDirectoryHandle(srcBaseName, {create: true});\n            resolve(directoryHandle);\n        } else if (!dstHandle && dstParentHandle && dstParentHandle.kind === Constants.KIND_DIRECTORY\n            && handleKindToCreate === Constants.KIND_FILE) {\n            const fileHandle = await dstParentHandle.getFileHandle(dstBaseName, {create: true});\n            resolve(fileHandle);\n        } else if (!dstHandle && dstParentHandle && dstParentHandle.kind === Constants.KIND_DIRECTORY\n            && handleKindToCreate === Constants.KIND_DIRECTORY) {\n            const fileHandle = await dstParentHandle.getDirectoryHandle(dstBaseName, {create: true});\n            resolve(fileHandle);\n        } else {\n            reject(new Errors.ENOENT(`Copy destination doesnt exist: ${dst}`));\n        }\n    });\n}\n\nasync function _copyFileFromHandles(srcFileHandle, dstHandle, optionalName) {\n    // TODO Add retry mechanisms when copying large folders\n    try {\n        if(optionalName){\n            dstHandle = await dstHandle.getFileHandle(optionalName, {create: true});\n        }\n        const srcFile = await srcFileHandle.getFile();\n        const srcStream = await srcFile.stream();\n        const writable = await dstHandle.createWritable();\n        await srcStream.pipeTo(writable);\n    } catch (e) {\n        console.error(`Error while copying ${dstHandle.name}/${optionalName} : ${e}`);\n        throw e;\n    }\n}\n\nasync function _copyFileWithHandle(srcFileHandle, dst, srcFileName, callback) {\n    try {\n        let dstHandle = await _getDestinationHandleForCopy(dst, srcFileName, Constants.KIND_FILE);\n        await _copyFileFromHandles(srcFileHandle, dstHandle);\n        callback(null);\n    } catch (e) {\n        callback(e);\n    }\n}\n\nasync function _treeCopy(srcFolderHandle, dstFolderHandle, recursive) {\n    let allDonePromises = [];\n    for await (const [key, srcHandle] of srcFolderHandle.entries()) {\n        if (srcHandle.kind === Constants.KIND_FILE) {\n            allDonePromises.push(_copyFileFromHandles(srcHandle, dstFolderHandle, key));\n        } else if (srcHandle.kind === Constants.KIND_DIRECTORY) {\n            const childDirHandle = await _mkdir(dstFolderHandle, key);\n            if(recursive && childDirHandle){\n                allDonePromises.push(_treeCopy(srcHandle, childDirHandle, recursive));\n            }\n        }\n    }\n    await Promise.all(allDonePromises);\n}\n\nasync function _copyFolderWithHandle(srcFolderHandle, dst, srcFileName, callback, recursive) {\n    try {\n        let dstFolderHandle = await _getDestinationHandleForCopy(dst, srcFileName, Constants.KIND_DIRECTORY);\n        await _treeCopy(srcFolderHandle, dstFolderHandle, recursive);\n        callback(null);\n    } catch (e) {\n        callback(e);\n    }\n}\n\nasync function copy(src, dst, callback, recursive = true) {\n    let srcFile = window.path.normalize(src);\n    let srcFileName= window.path.basename(srcFile);\n    Mounts.getHandleFromPath(srcFile, async (err, srcHandle) => {\n        if(err){\n            callback(err);\n        } else if (srcHandle.kind === Constants.KIND_FILE) {\n            return _copyFileWithHandle(srcHandle, dst, srcFileName, callback);\n        } else if (srcHandle.kind === Constants.KIND_DIRECTORY) {\n            return _copyFolderWithHandle(srcHandle, dst, srcFileName, callback, recursive);\n        } else {\n            callback(new Errors.EIO(`Cannot copy src: ${srcFile}`));\n        }\n    });\n}\n\nasync function rename(oldPath, newPath, cb) {\n    copy(oldPath, newPath, err => {\n        if(err) {\n            cb(err);\n        } else {\n            setTimeout(()=>{\n                unlink(oldPath, cb);\n            }, 0);\n        }\n    });\n}\n\nfunction mountNativeFolder(...args) {\n    Mounts.mountNativeFolder(...args);\n}\n\nfunction refreshMountPoints() {\n    Mounts.refreshMountPoints();\n}\n\nconst BYTE_ARRAY_ENCODING = 'byte-array';\n\nconst NativeFS = {\n    mountNativeFolder,\n    refreshMountPoints,\n    mkdir,\n    readdir,\n    stat,\n    readFile,\n    writeFile,\n    unlink,\n    copy,\n    rename,\n    BYTE_ARRAY_ENCODING\n};\n\nexport default NativeFS;\n","/*\n * GNU AGPL-3.0 License\n *\n * Copyright (c) 2021 - present core.ai . All rights reserved.\n *\n * This program is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, either version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see https://opensource.org/licenses/AGPL-3.0.\n *\n */\n\n// jshint ignore: start\n/*global BroadcastChannel*/\n/*eslint no-console: 0*/\n/*eslint strict: [\"error\", \"global\"]*/\n\n\nimport {Errors} from './errno.js';\nimport MountPointsStore from './mount_point_storage.js';\nimport Constants from './constants.js';\n\nconst MOUNT_POINT_CHANGED_NOTIFICATION = 'PHOENIX_MOUNT_POINT_CHANGED_NOTIFICATION';\n\nlet MAX_NUM_MOUNTS = 1000000;\nlet _channel = null;\n\n/**\n * Check if the given path is a subpath of the '/mnt' folder.\n * @param path\n */\nfunction isMountSubPath(path) {\n    if (typeof path !== 'string') {\n        return false;\n    }\n    let mntSubPathStart = '/mnt/';\n    if (path) {\n        path = window.path.normalize(path);\n        if (path.startsWith(mntSubPathStart) && path.length > mntSubPathStart.length) {\n            return true;\n        }\n    }\n    return false;\n}\n\n/**\n * Check if the given path is '/mnt' folder.\n * @param path\n */\nfunction isMountPath(path) {\n    if (typeof path !== 'string') {\n        return false;\n    }\n    if (path) {\n        path = window.path.normalize(path);\n        if (path === Constants.MOUNT_POINT_ROOT) {\n            return true;\n        }\n    }\n    return false;\n}\n\n\nfunction _setupBroadcastChannel() {\n    if(_channel){\n        return;\n    }\n    if(typeof BroadcastChannel === 'undefined'){\n        /* eslint no-console: 0 */\n        console.warn('window.BroadcastChannel not supported. Mount point changes wont reflect across tabs.');\n        return;\n    }\n    _channel = new BroadcastChannel(MOUNT_POINT_CHANGED_NOTIFICATION);\n}\n\nfunction _broadcastMountPointChanged() {\n    _setupBroadcastChannel();\n    _channel.postMessage(MOUNT_POINT_CHANGED_NOTIFICATION);\n}\n\nfunction _listenToMountPointChanges () {\n    _setupBroadcastChannel();\n    _channel.onmessage = async function(event) {\n        if(event.data === MOUNT_POINT_CHANGED_NOTIFICATION) {\n            await MountPointsStore.refreshMountPoints();\n        }\n    };\n}\n\n/**\n * Checks if the given handleToMount is same as or a subdir of all existing mounts\n * @param handleToMount\n * @returns {*[]} array of details of handleToMount relative to existing mount\n * @private\n */\nfunction _resolveFileHandle(handleToMount) {\n    let allMountPointResolutions = [];\n    const currentMounts = MountPointsStore.getMountPoints();\n    for (const [mountName, handle] of Object.entries(currentMounts)) {\n        allMountPointResolutions.push(new Promise((resolve) => {\n            const isSameEntryPromise = handle.isSameEntry(handleToMount);\n            const isSubEntryPromise = handle.resolve(handleToMount);\n            Promise.all([isSameEntryPromise, isSubEntryPromise]).then((mountDetail=>{\n                let isSameEntry = mountDetail[0] || false;\n                let subPathList = mountDetail[1] || [];\n                resolve({\n                    existingMountName: mountName,\n                    isSameEntry: isSameEntry,\n                    subPath: subPathList.join('/')\n                });\n            }));\n        }));\n    }\n    return allMountPointResolutions;\n}\n\nfunction _getPathIfAlreadyMounted(handleToMount) {\n    return new Promise((resolve) => {\n        let allMountPointResolutions = _resolveFileHandle(handleToMount);\n        Promise.all(allMountPointResolutions).then(values => {\n            for(let i=0; i<values.length; i++) {\n                let mountName = values[i].existingMountName;\n                if(values[i].isSameEntry) {\n                    resolve(`${Constants.MOUNT_POINT_ROOT}/${mountName}`);\n                    return;\n                } else if(values[i].subPath.length >= 1) {\n                    resolve(`${Constants.MOUNT_POINT_ROOT}/${mountName}/${values[i].subPath}`);\n                    return;\n                }\n            }\n            resolve(null);\n        });\n    });\n}\n\nfunction _getNewMountName(handleToMount) {\n    let name = handleToMount.name;\n    const currentMounts = MountPointsStore.getMountPoints();\n    if(!currentMounts[name]) {\n        return name;\n    }\n    for(let i=0; i<MAX_NUM_MOUNTS; i++) {\n        let mountName = `${name}_${i}`;\n        if(!currentMounts[mountName]){\n            return mountName;\n        }\n    }\n}\n\n/**\n * If the new handle is the same as or a subdir of an existing mount, we return the existing mount path\n * resolved to the given handle. Eg, if a folder `a` with subdir `b` is mounted to `mnt/a`;if we try to mount subdir `b`\n * then, we will return `mnt/a/b` as `b` is a subdirectory of an already mounted directory.\n * @param handleToMount\n * @param currentMounts {mountName1:handle1, ...}\n * @private\n */\nfunction _mountHandle(handleToMount) {\n    return new Promise(async (resolve, reject) => {\n        let path = await _getPathIfAlreadyMounted(handleToMount);\n        if(path){\n            resolve(path);\n        } else {\n            let mountName = _getNewMountName(handleToMount);\n            if(!mountName) {\n                reject('Mount name not fount');\n            } else {\n                await MountPointsStore.addMountPoint(mountName, handleToMount);\n                resolve(`${Constants.MOUNT_POINT_ROOT}/${mountName}`);\n            }\n        }\n    });\n}\n\nfunction mountNativeFolder(optionalDirHandle, callback) {\n    if(!callback) {\n        callback = optionalDirHandle;\n        optionalDirHandle = null;\n    }\n    let mountedPath = null;\n    let error = null;\n    MountPointsStore.refreshMountPoints()\n        .then(() => optionalDirHandle || window.showDirectoryPicker())\n        .then((directoryHandle) => _mountHandle(directoryHandle))\n        .then( mountPath => mountedPath = mountPath)\n        .then(() => _broadcastMountPointChanged())\n        .catch(function (err) {\n            error = new Errors.ENOTMOUNTED(err);\n        }).finally(()=>{\n            if(callback) {\n                callback(error, [mountedPath]);\n            } else if (error) {\n                throw new Errors.ENOTMOUNTED(error);\n            }\n        });\n}\n\nasync function _findLeafNode(currentNode, pathArray, currentIndex, callback) {\n    let pathLength = pathArray.length;\n    if(currentIndex === pathLength) {\n        callback(null, currentNode);\n    } else {\n        let childName = pathArray[currentIndex];\n        let childDirHandle = null;\n        let childFileHandle = null;\n        try {\n            childDirHandle = await currentNode.getDirectoryHandle(childName);\n        } catch (e) {\n            // do nothing\n        }\n        try {\n            childFileHandle = await currentNode.getFileHandle(childName);\n        } catch (e) {\n            // do nothing\n        }\n\n        if(childFileHandle && currentIndex === pathLength - 1) {\n            // the last node is a file\n            callback(null, childFileHandle);\n        } else if(childDirHandle) {\n            _findLeafNode(childDirHandle, pathArray, currentIndex + 1, callback);\n        } else {\n            let path= pathArray.join('/');\n            callback(new Errors.ENOENT('File/Dir does not exist: ', path));\n        }\n    }\n}\n\nasync function _verifyOrRequestPermission(fileHandle, callback) {\n    const options = {\n        mode: 'read'\n    };\n\n    // Check if permission was already granted. If so, return true.\n    try {\n        let status = await fileHandle.queryPermission(options);\n        if (status === 'granted') {\n            callback(true);\n            return;\n        }\n        status = await fileHandle.requestPermission(options);\n        if (status === 'granted') {\n            callback(true);\n        } else {\n            callback(false);\n        }\n    } catch(e){\n        callback(false);\n    }\n}\n\nfunction getHandleFromPath(normalisedPath, callback) {\n    const pathNodes = normalisedPath.split('/');\n    const currentMounts = MountPointsStore.getMountPoints();\n    if(pathNodes.length < 3 || pathNodes[0] !== '' || pathNodes[1] !== 'mnt'){\n        callback(new Errors.EINVAL('Cannot operate on path ' + normalisedPath));\n    }\n    let mountPoint = currentMounts[pathNodes[2]];\n    if(!mountPoint) {\n        callback(new Errors.ENOENT('Path does not exist: ', normalisedPath));\n        return;\n    }\n    _verifyOrRequestPermission(mountPoint, (permitted)=>{\n        if(permitted){\n            _findLeafNode(mountPoint, pathNodes, 3, callback);\n        } else {\n            callback(new Errors.EACCES('permission denied on path: ' + normalisedPath));\n        }\n    });\n}\n\nasync function getHandleFromPathIfPresent(normalisedPath) {\n    return new Promise(resolve => {\n        getHandleFromPath(normalisedPath, (err, handle) =>{\n            if(err) {\n                resolve(null);\n            } else {\n                resolve(handle);\n            }\n        });\n    });\n}\n\nfunction getMountPoints() {\n    return MountPointsStore.getMountPoints();\n}\n\nfunction refreshMountPoints() {\n    return MountPointsStore.refreshMountPoints();\n}\n\n_listenToMountPointChanges();\n\nconst Mounts = {\n    mountNativeFolder,\n    isMountPath,\n    isMountSubPath,\n    getHandleFromPath,\n    getMountPoints,\n    refreshMountPoints,\n    getHandleFromPathIfPresent\n};\n\nexport default Mounts;\n","/*\n * GNU AGPL-3.0 License\n *\n * Copyright (c) 2021 - present core.ai . All rights reserved.\n *\n * This program is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, either version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see https://opensource.org/licenses/AGPL-3.0.\n *\n */\n\n// jshint ignore: start\n/*global idb*/\n/*eslint no-console: 0*/\n/*eslint strict: [\"error\", \"global\"]*/\n\n/**\n * Persists serialised mounted native file system handles to indexed db to usage across tabs and sessions.\n**/\nimport Constants from './constants.js';\n\nconst PHOENIX_MOUNTS_DB_NAME = 'PHOENIX_MOUNTS';\nconst STORE_NAME = 'FS_ACCESS';\nconst MOUNT_POINTS_KEY = 'MOUNT_POINTS';\nconst VERSION_1 = 1;\n\nlet db = null;\nlet _currentMounts = {};\n\nasync function _ensureDB(){\n    if(db) {\n        return;\n    }\n    db = await idb.openDB(PHOENIX_MOUNTS_DB_NAME, VERSION_1, {\n        upgrade(db) {\n            db.createObjectStore(STORE_NAME);\n        }\n    });\n\n}\n\nasync function addMountPoint(mountName, handle) {\n    await _ensureDB();\n    const tx = db.transaction(STORE_NAME, Constants.IDB_RW_TYPE);\n    const store = tx.objectStore(STORE_NAME);\n    _currentMounts = (await store.get(MOUNT_POINTS_KEY)) || {};\n    _currentMounts[mountName] = handle;\n    await store.put(_currentMounts, MOUNT_POINTS_KEY);\n    await tx.done;\n}\n\nasync function refreshMountPoints() {\n    await _ensureDB();\n    const tx = db.transaction(STORE_NAME, Constants.IDB_RW_TYPE);\n    const store = tx.objectStore(STORE_NAME);\n    _currentMounts = (await store.get(MOUNT_POINTS_KEY)) || {};\n    await tx.done;\n    return _currentMounts;\n}\n\nfunction getMountPoints() {\n    return _currentMounts;\n}\n\nconst MountPointsStore = {\n    addMountPoint,\n    getMountPoints,\n    refreshMountPoints\n};\n\nexport default MountPointsStore;\n","/*\n * GNU AGPL-3.0 License\n *\n * Copyright (c) 2021 - present core.ai . All rights reserved.\n *\n * This program is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, either version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see https://opensource.org/licenses/AGPL-3.0.\n *\n */\n\n// jshint ignore: start\n/*eslint no-console: 0*/\n/*eslint strict: [\"error\", \"global\"]*/\n/* jshint ignore:start */\n\nconst Constants = {\n    MOUNT_DEVICE_NAME: 'nativeFsAccess',\n    KIND_FILE: 'file',\n    KIND_DIRECTORY: 'directory',\n    NODE_TYPE_FILE: 'FILE',\n    NODE_TYPE_DIRECTORY: 'DIRECTORY',\n    IDB_RW_TYPE: 'readwrite',\n    MOUNT_POINT_ROOT: '/mnt'\n};\n\nmodule.exports = {\n    Constants: Constants\n};\n","/*\n * GNU AGPL-3.0 License\n *\n * Copyright (c) 2021 - present core.ai . All rights reserved.\n *\n * This program is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, either version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see https://opensource.org/licenses/AGPL-3.0.\n *\n */\n\n// jshint ignore: start\n/*eslint no-console: 0*/\n/*eslint strict: [\"error\", \"global\"]*/\n\nimport Constants from './constants.js';\n\nfunction _dateFromMs(ms) {\n    if(ms === null || ms === undefined){\n        return null;\n    }\n    return new Date(Number(ms));\n}\n\nfunction Stats(path, fileNode, devName) {\n    this.dev = devName;\n    this.node = fileNode.id;\n    this.type = fileNode.type;\n    this.size = fileNode.size;\n    this.nlinks = fileNode.nlinks;\n    // Date objects\n    this.atime = _dateFromMs(fileNode.atime);\n    this.mtime = _dateFromMs(fileNode.mtime);\n    this.ctime = _dateFromMs(fileNode.ctime);\n    // Unix timestamp MS Numbers\n    this.atimeMs = fileNode.atime;\n    this.mtimeMs = fileNode.mtime;\n    this.ctimeMs = fileNode.ctime;\n    this.version = fileNode.version;\n    this.mode = fileNode.mode;\n    this.name = window.path.basename(path);\n}\n\nStats.prototype.isFile = function() {\n    return this.type === Constants.NODE_TYPE_FILE;\n};\n\nStats.prototype.isDirectory = function() {\n    return this.type === Constants.NODE_TYPE_DIRECTORY;\n};\n\nStats.prototype.isSymbolicLink = function() {\n    return this.type === Constants.NODE_TYPE_SYMBOLIC_LINK;\n};\n\n// These will always be false in Filer.\nStats.prototype.isSocket          =\n    Stats.prototype.isFIFO            =\n        Stats.prototype.isCharacterDevice =\n            Stats.prototype.isBlockDevice     =\n                function() {\n                    return false;\n                };\n\nfunction _getType(handle) {\n    switch (handle.kind) {\n    case Constants.KIND_FILE: return Constants.NODE_TYPE_FILE;\n    case Constants.KIND_DIRECTORY: return Constants.NODE_TYPE_DIRECTORY;\n    default: return null;\n    }\n}\n\nasync function _getDetails(nativeFsHandle) {\n    let file = null;\n    let details = {};\n    switch (nativeFsHandle.kind) {\n    case Constants.KIND_FILE:\n        file = await nativeFsHandle.getFile();\n        details.size = file.size;\n        details.mtime = file.lastModified;\n        return details;\n    case Constants.KIND_DIRECTORY:\n    default:\n        return details;\n    }\n}\n\nconst createStatObject = async function (path, handle) {\n    let details = await _getDetails(handle);\n    let fileDetails = {\n        type: _getType(handle),\n        size: details.size,\n        mtime: details.mtime\n    };\n    return new Stats(path, fileDetails, Constants.MOUNT_DEVICE_NAME);\n};\n\nconst Utils = {\n    createStatObject\n};\n\nexport default Utils;\n","/*\n * GNU AGPL-3.0 License\n *\n * Copyright (c) 2021 - present core.ai . All rights reserved.\n *\n * This program is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, either version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see https://opensource.org/licenses/AGPL-3.0.\n *\n */\n\n// jshint ignore: start\n/*global BroadcastChannel*/\n/*eslint no-console: 0*/\n/*eslint strict: [\"error\", \"global\"]*/\n\n\nlet _channel = null;\nlet _watchListeners = [];\nlet _globmatch = require('./thirdparty/globmatch');\n\nconst WATCH_EVENT_NOTIFICATION = 'PHOENIX_WATCH_EVENT_NOTIFICATION';\nconst WATCH_EVENT_CREATED = 'created';\nconst WATCH_EVENT_DELETED = 'deleted';\nconst WATCH_EVENT_CHANGED = 'changed';\n\nfunction _setupBroadcastChannel() {\n    if(_channel){\n        return;\n    }\n    if(typeof BroadcastChannel === 'undefined'){\n        /* eslint no-console: 0 */\n        console.warn('window.BroadcastChannel not supported. File system watch events across tabs wont be synced.');\n        return;\n    }\n    _channel = new BroadcastChannel(WATCH_EVENT_NOTIFICATION);\n}\n\nfunction _broadcastWatchEvent(event) {\n    _setupBroadcastChannel();\n    _channel.postMessage(event);\n}\n\nfunction _isAnIgnoredPath(path, ignoreGlobList) {\n    if(ignoreGlobList && ignoreGlobList.length > 0){\n        for (const glob of ignoreGlobList){\n            if (_globmatch(path, glob)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\nfunction _isSameOrSubDirectory(parent, child) {\n    return !(window.path.relative(parent, child).startsWith('..'));\n}\n\n// event{ path, eventName}\nfunction _processFsWatchEvent(event, broadcast=true) {\n    if(broadcast){\n        _broadcastWatchEvent(event);\n    }\n    for (const listener of _watchListeners){\n        if(listener.callback\n            && _isSameOrSubDirectory(listener.path, event.path)\n            && !_isAnIgnoredPath(event.path, listener.ignoreGlobList)){\n            listener.callback(event.event, event.parentDirPath, event.entryName, event.path);\n        }\n    }\n}\n\nfunction _listenToExternalFsWatchEvents() {\n    _setupBroadcastChannel();\n    _channel.onmessage = async function(event) {\n        console.log('External fs watch event: ', event.data);\n        _processFsWatchEvent(event.data, false);\n    };\n}\n\nfunction watch(path, ignoreGlobList, changeCallback, callback) {\n    if(changeCallback){\n        _watchListeners.push({\n            path: path,\n            ignoreGlobList: ignoreGlobList,\n            callback: changeCallback\n        });\n    }\n    callback();\n}\n\nfunction _triggerEvent(path, eventType) {\n    let pathLib = window.path;\n    path = pathLib.normalize(path);\n    let event = {\n        event: eventType,\n        parentDirPath: `${pathLib.dirname(path)}/`,\n        entryName: pathLib.basename(path),\n        path: path\n    };\n    _processFsWatchEvent(event);\n}\n\nfunction reportUnlinkEvent(path) {\n    _triggerEvent(path, WATCH_EVENT_DELETED);\n}\n\nfunction reportChangeEvent(path) {\n    _triggerEvent(path, WATCH_EVENT_CHANGED);\n}\n\nfunction reportCreateEvent(path) {\n    _triggerEvent(path, WATCH_EVENT_CREATED);\n}\n\nfunction unwatch(path, callback) {\n    _watchListeners = _watchListeners.filter(function (item) {\n        return item.path !== path;\n    });\n    callback();\n}\n\nfunction unwatchAll(callback) {\n    _watchListeners =[];\n    callback();\n}\n\n_listenToExternalFsWatchEvents();\n\nconst FsWatch = {\n    watch,\n    unwatch,\n    unwatchAll,\n    reportUnlinkEvent,\n    reportChangeEvent,\n    reportCreateEvent\n};\n\nexport default FsWatch;\n","// This is a slightly modified version of the minimatch library\n// https://github.com/isaacs/minimatch\n// (MIT-licensed, Copyright 2009-2011 Isaac Z. Schlueter)\n//\n// It has been modified to work properly with RequireJS and\n// to export an fnmatch function adapted from the EditorConfig project:\n// https://github.com/editorconfig/editorconfig-core-js/\n// (MIT-licensed, Copyright 2012 EditorConfig Team)\n\n\ndefine(function (r, exports, module, platform) {\n\n    module.exports = fnmatch;\n    minimatch.Minimatch = Minimatch;\n    \n    function fnmatch(filepath, glob) {\n        var matchOptions = {dot: true, noext: true};\n  \n        // brackets #7374: don't try to match base if a directory name is passed in\n        if (filepath[filepath.length - 1] !== '/') {\n            matchOptions.matchBase = true;\n        }\n  \n        glob = glob.replace(/\\*\\*/g, '{*,**/**/**}');\n        return minimatch(filepath, glob, matchOptions);\n    }\n\n    var LRU = function LRUCache () {\n        // not quite an LRU, but still space-limited.\n            var cache = {};\n            var cnt = 0;\n            this.set = function (k, v) {\n                cnt ++;\n                if (cnt >= 100) cache = {};\n                cache[k] = v;\n            };\n            this.get = function (k) { return cache[k]; };\n        }\n        , cache = minimatch.cache = new LRU({max: 100})\n        , GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\n        , sigmund = function sigmund (obj) {\n            return JSON.stringify(obj);\n        };\n\n    var path = { basename: function (f) {\n            f = f.split(/[\\/\\\\]/);\n            var e = f.pop();\n            if (!e) e = f.pop();\n            return e;\n        }}\n        // any single thing other than /\n        // don't need to escape / when using new RegExp()\n        , qmark = '[^/]'\n\n        // * => any number of characters\n        , star = qmark + '*?'\n\n        // ** when dots are allowed.  Anything goes, except .. and .\n        // not (^ or / followed by one or two dots followed by $ or /),\n        // followed by anything, any number of times.\n        , twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n        // not a ^ or / followed by a dot,\n        // followed by anything, any number of times.\n        , twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n        // characters that need to be escaped in RegExp.\n        , reSpecials = charSet('().*{}+?[]^$\\\\!');\n\n    // \"abc\" -> { a:true, b:true, c:true }\n    function charSet (s) {\n        return s.split('').reduce(function (set, c) {\n            set[c] = true;\n            return set;\n        }, {});\n    }\n\n    // normalizes slashes.\n    var slashSplit = /\\/+/;\n\n    minimatch.monkeyPatch = monkeyPatch;\n    function monkeyPatch () {\n        var desc = Object.getOwnPropertyDescriptor(String.prototype, 'match');\n        var orig = desc.value;\n        desc.value = function (p) {\n            if (p instanceof Minimatch) return p.match(this);\n            return orig.call(this, p);\n        };\n        Object.defineProperty(String.prototype, desc);\n    }\n\n    minimatch.filter = filter;\n    function filter (pattern, options) {\n        options = options || {};\n        return function (p, i, list) {\n            return minimatch(p, pattern, options);\n        };\n    }\n\n    function ext (a, b) {\n        a = a || {};\n        b = b || {};\n        var t = {};\n        Object.keys(b).forEach(function (k) {\n            t[k] = b[k];\n        });\n        Object.keys(a).forEach(function (k) {\n            t[k] = a[k];\n        });\n        return t;\n    }\n\n    minimatch.defaults = function (def) {\n        if (!def || !Object.keys(def).length) return minimatch;\n\n        var orig = minimatch;\n\n        var m = function minimatch (p, pattern, options) {\n            return orig.minimatch(p, pattern, ext(def, options));\n        };\n\n        m.Minimatch = function Minimatch (pattern, options) {\n            return new orig.Minimatch(pattern, ext(def, options));\n        };\n\n        return m;\n    };\n\n    Minimatch.defaults = function (def) {\n        if (!def || !Object.keys(def).length) return Minimatch;\n        return minimatch.defaults(def).Minimatch;\n    };\n\n\n    function minimatch (p, pattern, options) {\n        if (typeof pattern !== 'string') {\n            throw new TypeError('glob pattern string required');\n        }\n\n        if (!options) options = {};\n\n        // shortcut: comments match nothing.\n        if (!options.nocomment && pattern.charAt(0) === '#') {\n            return false;\n        }\n\n        // \"\" only matches \"\"\n        if (pattern.trim() === '') return p === '';\n\n        return new Minimatch(pattern, options).match(p);\n    }\n\n    function Minimatch (pattern, options) {\n        if (!(this instanceof Minimatch)) {\n            return new Minimatch(pattern, options, cache);\n        }\n\n        if (typeof pattern !== 'string') {\n            throw new TypeError('glob pattern string required');\n        }\n\n        if (!options) options = {};\n        pattern = pattern.trim();\n\n        // windows: need to use /, not \\\n        // On other platforms, \\ is a valid (albeit bad) filename char.\n        if (platform === 'win32') {\n            pattern = pattern.split('\\\\').join('/');\n        }\n\n        // lru storage.\n        // these things aren't particularly big, but walking down the string\n        // and turning it into a regexp can get pretty costly.\n        var cacheKey = pattern + '\\n' + sigmund(options);\n        var cached = minimatch.cache.get(cacheKey);\n        if (cached) return cached;\n        minimatch.cache.set(cacheKey, this);\n\n        this.options = options;\n        this.set = [];\n        this.pattern = pattern;\n        this.regexp = null;\n        this.negate = false;\n        this.comment = false;\n        this.empty = false;\n\n        // make the set of regexps etc.\n        this.make();\n    }\n\n    Minimatch.prototype.make = make;\n    function make () {\n        // don't do it more than once.\n        if (this._made) return;\n\n        var pattern = this.pattern;\n        var options = this.options;\n\n        // empty patterns and comments match nothing.\n        if (!options.nocomment && pattern.charAt(0) === '#') {\n            this.comment = true;\n            return;\n        }\n        if (!pattern) {\n            this.empty = true;\n            return;\n        }\n\n        // step 1: figure out negation, etc.\n        this.parseNegate();\n\n        // step 2: expand braces\n        var set = this.globSet = this.braceExpand();\n\n        if (options.debug) console.error(this.pattern, set);\n\n        // step 3: now we have a set, so turn each one into a series of path-portion\n        // matching patterns.\n        // These will be regexps, except in the case of \"**\", which is\n        // set to the GLOBSTAR object for globstar behavior,\n        // and will not contain any / characters\n        set = this.globParts = set.map(function (s) {\n            return s.split(slashSplit);\n        });\n\n        if (options.debug) console.error(this.pattern, set);\n\n        // glob --> regexps\n        set = set.map(function (s, si, set) {\n            return s.map(this.parse, this);\n        }, this);\n\n        if (options.debug) console.error(this.pattern, set);\n\n        // filter out everything that didn't compile properly.\n        set = set.filter(function (s) {\n            return -1 === s.indexOf(false);\n        });\n\n        if (options.debug) console.error(this.pattern, set);\n\n        this.set = set;\n    }\n\n    Minimatch.prototype.parseNegate = parseNegate;\n    function parseNegate () {\n        var pattern = this.pattern\n            , negate = false\n            , options = this.options\n            , negateOffset = 0;\n\n        if (options.nonegate) return;\n\n        for ( var i = 0, l = pattern.length\n            ; i < l && pattern.charAt(i) === '!'\n            ; i ++) {\n            negate = !negate;\n            negateOffset ++;\n        }\n\n        if (negateOffset) this.pattern = pattern.substr(negateOffset);\n        this.negate = negate;\n    }\n\n    // Brace expansion:\n    // a{b,c}d -> abd acd\n    // a{b,}c -> abc ac\n    // a{0..3}d -> a0d a1d a2d a3d\n    // a{b,c{d,e}f}g -> abg acdfg acefg\n    // a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n    //\n    // Invalid sets are not expanded.\n    // a{2..}b -> a{2..}b\n    // a{b}c -> a{b}c\n    minimatch.braceExpand = function (pattern, options) {\n        return new Minimatch(pattern, options).braceExpand();\n    };\n\n    Minimatch.prototype.braceExpand = braceExpand;\n    function braceExpand (pattern, options) {\n        options = options || this.options;\n        pattern = typeof pattern === 'undefined'\n            ? this.pattern : pattern;\n\n        if (typeof pattern === 'undefined') {\n            throw new Error('undefined pattern');\n        }\n\n        if (options.nobrace ||\n      !pattern.match(/\\{.*\\}/)) {\n            // shortcut. no need to expand.\n            return [pattern];\n        }\n\n        var escaping = false;\n\n        // examples and comments refer to this crazy pattern:\n        // a{b,c{d,e},{f,g}h}x{y,z}\n        // expected:\n        // abxy\n        // abxz\n        // acdxy\n        // acdxz\n        // acexy\n        // acexz\n        // afhxy\n        // afhxz\n        // aghxy\n        // aghxz\n\n        // everything before the first \\{ is just a prefix.\n        // So, we pluck that off, and work with the rest,\n        // and then prepend it to everything we find.\n        if (pattern.charAt(0) !== '{') {\n            // console.error(pattern)\n            var prefix = null;\n            for (var i = 0, l = pattern.length; i < l; i ++) {\n                var c = pattern.charAt(i);\n                // console.error(i, c)\n                if (c === '\\\\') {\n                    escaping = !escaping;\n                } else if (c === '{' && !escaping) {\n                    prefix = pattern.substr(0, i);\n                    break;\n                }\n            }\n\n            // actually no sets, all { were escaped.\n            if (prefix === null) {\n                // console.error(\"no sets\")\n                return [pattern];\n            }\n\n            var tail = braceExpand(pattern.substr(i), options);\n            return tail.map(function (t) {\n                return prefix + t;\n            });\n        }\n\n        // now we have something like:\n        // {b,c{d,e},{f,g}h}x{y,z}\n        // walk through the set, expanding each part, until\n        // the set ends.  then, we'll expand the suffix.\n        // If the set only has a single member, then'll put the {} back\n\n        // first, handle numeric sets, since they're easier\n        var numset = pattern.match(/^\\{(-?[0-9]+)\\.\\.(-?[0-9]+)\\}/);\n        if (numset) {\n            // console.error(\"numset\", numset[1], numset[2])\n            var suf = braceExpand(pattern.substr(numset[0].length), options)\n                , start = +numset[1]\n                , end = +numset[2]\n                , inc = start > end ? -1 : 1\n                , set = [];\n            for (var i = start; i != (end + inc); i += inc) {\n                // append all the suffixes\n                for (var ii = 0, ll = suf.length; ii < ll; ii ++) {\n                    set.push(i + suf[ii]);\n                }\n            }\n            return set;\n        }\n\n        // ok, walk through the set\n        // We hope, somewhat optimistically, that there\n        // will be a } at the end.\n        // If the closing brace isn't found, then the pattern is\n        // interpreted as braceExpand(\"\\\\\" + pattern) so that\n        // the leading \\{ will be interpreted literally.\n        var i = 1 // skip the \\{\n            , depth = 1\n            , set = []\n            , member = ''\n            , sawEnd = false\n            , escaping = false;\n\n        function addMember () {\n            set.push(member);\n            member = '';\n        }\n\n        // console.error(\"Entering for\")\n        FOR: for (i = 1, l = pattern.length; i < l; i ++) {\n            var c = pattern.charAt(i);\n            // console.error(\"\", i, c)\n\n            if (escaping) {\n                escaping = false;\n                member += '\\\\' + c;\n            } else {\n                switch (c) {\n                case '\\\\':\n                    escaping = true;\n                    continue;\n\n                case '{':\n                    depth ++;\n                    member += '{';\n                    continue;\n\n                case '}':\n                    depth --;\n                    // if this closes the actual set, then we're done\n                    if (depth === 0) {\n                        addMember();\n                        // pluck off the close-brace\n                        i ++;\n                        break FOR;\n                    } else {\n                        member += c;\n                        continue;\n                    }\n\n                case ',':\n                    if (depth === 1) {\n                        addMember();\n                    } else {\n                        member += c;\n                    }\n                    continue;\n\n                default:\n                    member += c;\n                    continue;\n                } // switch\n            } // else\n        } // for\n\n        // now we've either finished the set, and the suffix is\n        // pattern.substr(i), or we have *not* closed the set,\n        // and need to escape the leading brace\n        if (depth !== 0) {\n            // console.error(\"didn't close\", pattern)\n            return braceExpand('\\\\' + pattern, options);\n        }\n\n        // x{y,z} -> [\"xy\", \"xz\"]\n        // console.error(\"set\", set)\n        // console.error(\"suffix\", pattern.substr(i))\n        var suf = braceExpand(pattern.substr(i), options);\n        // [\"b\", \"c{d,e}\",\"{f,g}h\"] ->\n        //   [[\"b\"], [\"cd\", \"ce\"], [\"fh\", \"gh\"]]\n        var addBraces = set.length === 1;\n        // console.error(\"set pre-expanded\", set)\n        set = set.map(function (p) {\n            return braceExpand(p, options);\n        });\n        // console.error(\"set expanded\", set)\n\n\n        // [[\"b\"], [\"cd\", \"ce\"], [\"fh\", \"gh\"]] ->\n        //   [\"b\", \"cd\", \"ce\", \"fh\", \"gh\"]\n        set = set.reduce(function (l, r) {\n            return l.concat(r);\n        });\n\n        if (addBraces) {\n            set = set.map(function (s) {\n                return '{' + s + '}';\n            });\n        }\n\n        // now attach the suffixes.\n        var ret = [];\n        for (var i = 0, l = set.length; i < l; i ++) {\n            for (var ii = 0, ll = suf.length; ii < ll; ii ++) {\n                ret.push(set[i] + suf[ii]);\n            }\n        }\n        return ret;\n    }\n\n    // parse a component of the expanded set.\n    // At this point, no pattern may contain \"/\" in it\n    // so we're going to return a 2d array, where each entry is the full\n    // pattern, split on '/', and then turned into a regular expression.\n    // A regexp is made at the end which joins each array with an\n    // escaped /, and another full one which joins each regexp with |.\n    //\n    // Following the lead of Bash 4.1, note that \"**\" only has special meaning\n    // when it is the *only* thing in a path portion.  Otherwise, any series\n    // of * is equivalent to a single *.  Globstar behavior is enabled by\n    // default, and can be disabled by setting options.noglobstar.\n    Minimatch.prototype.parse = parse;\n    var SUBPARSE = {};\n    function parse (pattern, isSub) {\n        var options = this.options;\n\n        // shortcuts\n        if (!options.noglobstar && pattern === '**') return GLOBSTAR;\n        if (pattern === '') return '';\n\n        var re = ''\n            , hasMagic = !!options.nocase\n            , escaping = false\n            // ? => one single character\n            , patternListStack = []\n            , plType\n            , stateChar\n            , inClass = false\n            , reClassStart = -1\n            , classStart = -1\n            // . and .. never match anything that doesn't start with .,\n            // even when options.dot is set.\n            , patternStart = pattern.charAt(0) === '.' ? '' // anything\n            // not (start or / followed by . or .. followed by / or end)\n                : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n                    : '(?!\\\\.)';\n\n        function clearStateChar () {\n            if (stateChar) {\n                // we had some state-tracking character\n                // that wasn't consumed by this pass.\n                switch (stateChar) {\n                case '*':\n                    re += star;\n                    hasMagic = true;\n                    break;\n                case '?':\n                    re += qmark;\n                    hasMagic = true;\n                    break;\n                default:\n                    re += '\\\\'+stateChar;\n                    break;\n                }\n                stateChar = false;\n            }\n        }\n\n        for ( var i = 0, len = pattern.length, c\n            ; (i < len) && (c = pattern.charAt(i))\n            ; i ++ ) {\n\n            if (options.debug) {\n                console.error('%s\\t%s %s %j', pattern, i, re, c);\n            }\n\n            // skip over any that are escaped.\n            if (escaping && reSpecials[c]) {\n                re += '\\\\' + c;\n                escaping = false;\n                continue;\n            }\n\n            switch (c) {\n            case '/':\n                // completely not allowed, even escaped.\n                // Should already be path-split by now.\n                return false;\n\n            case '\\\\':\n                clearStateChar();\n                escaping = true;\n                continue;\n\n                // the various stateChar values\n                // for the \"extglob\" stuff.\n            case '?':\n            case '*':\n            case '+':\n            case '@':\n            case '!':\n                if (options.debug) {\n                    console.error('%s\\t%s %s %j <-- stateChar', pattern, i, re, c);\n                }\n\n                // all of those are literals inside a class, except that\n                // the glob [!a] means [^a] in regexp\n                if (inClass) {\n                    if (c === '!' && i === classStart + 1) c = '^';\n                    re += c;\n                    continue;\n                }\n\n                // if we already have a stateChar, then it means\n                // that there was something like ** or +? in there.\n                // Handle the stateChar, then proceed with this one.\n                clearStateChar();\n                stateChar = c;\n                // if extglob is disabled, then +(asdf|foo) isn't a thing.\n                // just clear the statechar *now*, rather than even diving into\n                // the patternList stuff.\n                if (options.noext) clearStateChar();\n                continue;\n\n            case '(':\n                if (inClass) {\n                    re += '(';\n                    continue;\n                }\n\n                if (!stateChar) {\n                    re += '\\\\(';\n                    continue;\n                }\n\n                plType = stateChar;\n                patternListStack.push({ type: plType\n                    , start: i - 1\n                    , reStart: re.length });\n                // negation is (?:(?!js)[^/]*)\n                re += stateChar === '!' ? '(?:(?!' : '(?:';\n                stateChar = false;\n                continue;\n\n            case ')':\n                if (inClass || !patternListStack.length) {\n                    re += '\\\\)';\n                    continue;\n                }\n\n                hasMagic = true;\n                re += ')';\n                plType = patternListStack.pop().type;\n                // negation is (?:(?!js)[^/]*)\n                // The others are (?:<pattern>)<type>\n                switch (plType) {\n                case '!':\n                    re += '[^/]*?)';\n                    break;\n                case '?':\n                case '+':\n                case '*': re += plType;\n                case '@': break; // the default anyway\n                }\n                continue;\n\n            case '|':\n                if (inClass || !patternListStack.length || escaping) {\n                    re += '\\\\|';\n                    escaping = false;\n                    continue;\n                }\n\n                re += '|';\n                continue;\n\n                // these are mostly the same in regexp and glob\n            case '[':\n                // swallow any state-tracking char before the [\n                clearStateChar();\n\n                if (inClass) {\n                    re += '\\\\' + c;\n                    continue;\n                }\n\n                inClass = true;\n                classStart = i;\n                reClassStart = re.length;\n                re += c;\n                continue;\n\n            case ']':\n                //  a right bracket shall lose its special\n                //  meaning and represent itself in\n                //  a bracket expression if it occurs\n                //  first in the list.  -- POSIX.2 2.8.3.2\n                if (i === classStart + 1 || !inClass) {\n                    re += '\\\\' + c;\n                    escaping = false;\n                    continue;\n                }\n\n                // finish up the class.\n                hasMagic = true;\n                inClass = false;\n                re += c;\n                continue;\n\n            default:\n                // swallow any state char that wasn't consumed\n                clearStateChar();\n\n                if (escaping) {\n                    // no need\n                    escaping = false;\n                } else if (reSpecials[c]\n                   && !(c === '^' && inClass)) {\n                    re += '\\\\';\n                }\n\n                re += c;\n\n            } // switch\n        } // for\n\n\n        // handle the case where we left a class open.\n        // \"[abc\" is valid, equivalent to \"\\[abc\"\n        if (inClass) {\n            // split where the last [ was, and escape it\n            // this is a huge pita.  We now have to re-walk\n            // the contents of the would-be class to re-translate\n            // any characters that were passed through as-is\n            var cs = pattern.substr(classStart + 1)\n                , sp = this.parse(cs, SUBPARSE);\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0];\n            hasMagic = hasMagic || sp[1];\n        }\n\n        // handle the case where we had a +( thing at the *end*\n        // of the pattern.\n        // each pattern list stack adds 3 chars, and we need to go through\n        // and escape any | chars that were passed through as-is for the regexp.\n        // Go through and escape them, taking care not to double-escape any\n        // | chars that were already escaped.\n        var pl;\n        while (pl = patternListStack.pop()) {\n            var tail = re.slice(pl.reStart + 3);\n            // maybe some even number of \\, then maybe 1 \\, followed by a |\n            tail = tail.replace(/((?:\\\\{2})*)(\\\\?)\\|/g, function (_, $1, $2) {\n                if (!$2) {\n                    // the | isn't already escaped, so escape it.\n                    $2 = '\\\\';\n                }\n\n                // need to escape all those slashes *again*, without escaping the\n                // one that we need for escaping the | character.  As it works out,\n                // escaping an even number of slashes can be done by simply repeating\n                // it exactly after itself.  That's why this trick works.\n                //\n                // I am sorry that you have to see this.\n                return $1 + $1 + $2 + '|';\n            });\n\n            // console.error(\"tail=%j\\n   %s\", tail, tail)\n            var t = pl.type === '*' ? star\n                : pl.type === '?' ? qmark\n                    : '\\\\' + pl.type;\n\n            hasMagic = true;\n            re = re.slice(0, pl.reStart)\n       + t + '\\\\('\n       + tail;\n        }\n\n        // handle trailing things that only matter at the very end.\n        clearStateChar();\n        if (escaping) {\n            // trailing \\\\\n            re += '\\\\\\\\';\n        }\n\n        // only need to apply the nodot start if the re starts with\n        // something that could conceivably capture a dot\n        var addPatternStart = false;\n        switch (re.charAt(0)) {\n        case '.':\n        case '[':\n        case '(': addPatternStart = true;\n        }\n\n        // if the re is not \"\" at this point, then we need to make sure\n        // it doesn't match against an empty path part.\n        // Otherwise a/* will match a/, which it should not.\n        if (re !== '' && hasMagic) re = '(?=.)' + re;\n\n        if (addPatternStart) re = patternStart + re;\n\n        // parsing just a piece of a larger pattern.\n        if (isSub === SUBPARSE) {\n            return [ re, hasMagic ];\n        }\n\n        // skip the regexp for non-magical patterns\n        // unescape anything in it, though, so that it'll be\n        // an exact match against a file etc.\n        if (!hasMagic) {\n            return globUnescape(pattern);\n        }\n\n        var flags = options.nocase ? 'i' : ''\n            , regExp = new RegExp('^' + re + '$', flags);\n\n        regExp._glob = pattern;\n        regExp._src = re;\n\n        return regExp;\n    }\n\n    minimatch.makeRe = function (pattern, options) {\n        return new Minimatch(pattern, options || {}).makeRe();\n    };\n\n    Minimatch.prototype.makeRe = makeRe;\n    function makeRe () {\n        if (this.regexp || this.regexp === false) return this.regexp;\n\n        // at this point, this.set is a 2d array of partial\n        // pattern strings, or \"**\".\n        //\n        // It's better to use .match().  This function shouldn't\n        // be used, really, but it's pretty convenient sometimes,\n        // when you just want to work with a regex.\n        var set = this.set;\n\n        if (!set.length) return this.regexp = false;\n        var options = this.options;\n\n        var twoStar = options.noglobstar ? star\n                : options.dot ? twoStarDot\n                    : twoStarNoDot\n            , flags = options.nocase ? 'i' : '';\n\n        var re = set.map(function (pattern) {\n            return pattern.map(function (p) {\n                return (p === GLOBSTAR) ? twoStar\n                    : (typeof p === 'string') ? regExpEscape(p)\n                        : p._src;\n            }).join('\\\\\\/');\n        }).join('|');\n\n        // must match entire pattern\n        // ending in a * or ** will make it less strict.\n        re = '^(?:' + re + ')$';\n\n        // can match anything, as long as it's not this.\n        if (this.negate) re = '^(?!' + re + ').*$';\n\n        try {\n            return this.regexp = new RegExp(re, flags);\n        } catch (ex) {\n            return this.regexp = false;\n        }\n    }\n\n    minimatch.match = function (list, pattern, options) {\n        var mm = new Minimatch(pattern, options);\n        list = list.filter(function (f) {\n            return mm.match(f);\n        });\n        if (options.nonull && !list.length) {\n            list.push(pattern);\n        }\n        return list;\n    };\n\n    Minimatch.prototype.match = match;\n    function match (f, partial) {\n        // console.error(\"match\", f, this.pattern)\n        // short-circuit in the case of busted things.\n        // comments, etc.\n        if (this.comment) return false;\n        if (this.empty) return f === '';\n\n        if (f === '/' && partial) return true;\n\n        var options = this.options;\n\n        // windows: need to use /, not \\\n        // On other platforms, \\ is a valid (albeit bad) filename char.\n        if (platform === 'win32') {\n            f = f.split('\\\\').join('/');\n        }\n\n        // treat the test path as a set of pathparts.\n        f = f.split(slashSplit);\n        if (options.debug) {\n            console.error(this.pattern, 'split', f);\n        }\n\n        // just ONE of the pattern sets in this.set needs to match\n        // in order for it to be valid.  If negating, then just one\n        // match means that we have failed.\n        // Either way, return on the first hit.\n\n        var set = this.set;\n        // console.error(this.pattern, \"set\", set)\n\n        for (var i = 0, l = set.length; i < l; i ++) {\n            var pattern = set[i];\n            var hit = this.matchOne(f, pattern, partial);\n            if (hit) {\n                if (options.flipNegate) return true;\n                return !this.negate;\n            }\n        }\n\n        // didn't get any hits.  this is success if it's a negative\n        // pattern, failure otherwise.\n        if (options.flipNegate) return false;\n        return this.negate;\n    }\n\n    // set partial to true to test if, for example,\n    // \"/a/b\" matches the start of \"/*/b/*/d\"\n    // Partial means, if you run out of file before you run\n    // out of pattern, then that's fine, as long as all\n    // the parts match.\n    Minimatch.prototype.matchOne = function (file, pattern, partial) {\n        var options = this.options;\n\n        if (options.debug) {\n            console.error('matchOne',\n                { 'this': this\n                    , file: file\n                    , pattern: pattern });\n        }\n\n        if (options.matchBase && pattern.length === 1) {\n            file = path.basename(file.join('/')).split('/');\n        }\n\n        if (options.debug) {\n            console.error('matchOne', file.length, pattern.length);\n        }\n\n        for ( var fi = 0\n            , pi = 0\n            , fl = file.length\n            , pl = pattern.length\n            ; (fi < fl) && (pi < pl)\n            ; fi ++, pi ++ ) {\n\n            if (options.debug) {\n                console.error('matchOne loop');\n            }\n            var p = pattern[pi]\n                , f = file[fi];\n\n            if (options.debug) {\n                console.error(pattern, p, f);\n            }\n\n            // should be impossible.\n            // some invalid regexp stuff in the set.\n            if (p === false) return false;\n\n            if (p === GLOBSTAR) {\n                if (options.debug)\n                    console.error('GLOBSTAR', [pattern, p, f]);\n\n                // \"**\"\n                // a/**/b/**/c would match the following:\n                // a/b/x/y/z/c\n                // a/x/y/z/b/c\n                // a/b/x/b/x/c\n                // a/b/c\n                // To do this, take the rest of the pattern after\n                // the **, and see if it would match the file remainder.\n                // If so, return success.\n                // If not, the ** \"swallows\" a segment, and try again.\n                // This is recursively awful.\n                //\n                // a/**/b/**/c matching a/b/x/y/z/c\n                // - a matches a\n                // - doublestar\n                //   - matchOne(b/x/y/z/c, b/**/c)\n                //     - b matches b\n                //     - doublestar\n                //       - matchOne(x/y/z/c, c) -> no\n                //       - matchOne(y/z/c, c) -> no\n                //       - matchOne(z/c, c) -> no\n                //       - matchOne(c, c) yes, hit\n                var fr = fi\n                    , pr = pi + 1;\n                if (pr === pl) {\n                    if (options.debug)\n                        console.error('** at the end');\n                    // a ** at the end will just swallow the rest.\n                    // We have found a match.\n                    // however, it will not swallow /.x, unless\n                    // options.dot is set.\n                    // . and .. are *never* matched by **, for explosively\n                    // exponential reasons.\n                    for ( ; fi < fl; fi ++) {\n                        if (file[fi] === '.' || file[fi] === '..' ||\n              (!options.dot && file[fi].charAt(0) === '.')) return false;\n                    }\n                    return true;\n                }\n\n                // ok, let's see if we can swallow whatever we can.\n                WHILE: while (fr < fl) {\n                    var swallowee = file[fr];\n\n                    if (options.debug) {\n                        console.error('\\nglobstar while',\n                            file, fr, pattern, pr, swallowee);\n                    }\n\n                    // XXX remove this slice.  Just pass the start index.\n                    if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n                        if (options.debug)\n                            console.error('globstar found match!', fr, fl, swallowee);\n                        // found a match.\n                        return true;\n                    } else {\n                        // can't swallow \".\" or \"..\" ever.\n                        // can only swallow \".foo\" when explicitly asked.\n                        if (swallowee === '.' || swallowee === '..' ||\n              (!options.dot && swallowee.charAt(0) === '.')) {\n                            if (options.debug)\n                                console.error('dot detected!', file, fr, pattern, pr);\n                            break WHILE;\n                        }\n\n                        // ** swallows a segment, and continue.\n                        if (options.debug)\n                            console.error('globstar swallow a segment, and continue');\n                        fr ++;\n                    }\n                }\n                // no match was found.\n                // However, in partial mode, we can't say this is necessarily over.\n                // If there's more *pattern* left, then \n                if (partial) {\n                    // ran out of file\n                    // console.error(\"\\n>>> no match, partial?\", file, fr, pattern, pr)\n                    if (fr === fl) return true;\n                }\n                return false;\n            }\n\n            // something other than **\n            // non-magic patterns just have to match exactly\n            // patterns with magic have been turned into regexps.\n            var hit;\n            if (typeof p === 'string') {\n                if (options.nocase) {\n                    hit = f.toLowerCase() === p.toLowerCase();\n                } else {\n                    hit = f === p;\n                }\n                if (options.debug) {\n                    console.error('string match', p, f, hit);\n                }\n            } else {\n                hit = f.match(p);\n                if (options.debug) {\n                    console.error('pattern match', p, f, hit);\n                }\n            }\n\n            if (!hit) return false;\n        }\n\n        // Note: ending in / means that we'll get a final \"\"\n        // at the end of the pattern.  This can only match a\n        // corresponding \"\" at the end of the file.\n        // If the file ends in /, then it can only match a\n        // a pattern that ends in /, unless the pattern just\n        // doesn't have any more for it. But, a/b/ should *not*\n        // match \"a/b/*\", even though \"\" matches against the\n        // [^/]*? pattern, except in partial mode, where it might\n        // simply not be reached yet.\n        // However, a/b/ should still satisfy a/*\n\n        // now either we fell off the end of the pattern, or we're done.\n        if (fi === fl && pi === pl) {\n            // ran out of pattern and filename at the same time.\n            // an exact hit!\n            return true;\n        } else if (fi === fl) {\n            // ran out of file, but still had pattern left.\n            // this is ok if we're doing the match as part of\n            // a glob fs traversal.\n            return partial;\n        } else if (pi === pl) {\n            // ran out of pattern, still have file left.\n            // this is only acceptable if we're on the very last\n            // empty segment of a file with a trailing slash.\n            // a/* should match a/b/\n            var emptyFileEnd = (fi === fl - 1) && (file[fi] === '');\n            return emptyFileEnd;\n        }\n\n        // should be unreachable.\n        throw new Error('wtf?');\n    };\n\n\n    // replace stuff like \\* with *\n    function globUnescape (s) {\n        return s.replace(/\\\\(.)/g, '$1');\n    }\n\n\n    function regExpEscape (s) {\n        return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n    }\n\n});","/*\n * GNU AGPL-3.0 License\n *\n * Copyright (c) 2021 - present core.ai . All rights reserved.\n *\n * This program is free software: you can redistribute it and/or modify it under\n * the terms of the GNU Affero General Public License as published by the Free\n * Software Foundation, either version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License along\n * with this program. If not, see https://opensource.org/licenses/AGPL-3.0.\n *\n */\n\n// jshint ignore: start\n/*global fs*/\n/*eslint no-console: 0*/\n/*eslint strict: [\"error\", \"global\"]*/\n\n\nconst {ERR_CODES, Errors} = require('./errno');\n\nconst ERROR_CODES = ERR_CODES.ERROR_CODES;\n\nasync function _stat(path) {\n    return new Promise(async (resolve, reject) => {\n        fs.stat(path, async (err, stat) => {\n            if(err && err.code === ERROR_CODES.ENOENT){\n                resolve(null);\n            } else if(err) {\n                reject(err);\n            } else {\n                resolve(stat);\n            }\n        });\n    });\n}\n\nasync function _mrdirIfNotPresent(path) {\n    return new Promise(async (resolve, reject) => {\n        fs.mkdir(path, async (err) => {\n            err && err.code !== ERROR_CODES.EEXIST?\n                reject(err):\n                resolve();\n        });\n    });\n}\n\nasync function _readDir(path) {\n    return new Promise(async (resolve, reject) => {\n        fs.readdir(path, async (err, listing) => {\n            if(err) {\n                reject(err);\n            } else {\n                resolve(listing);\n            }\n        });\n    });\n}\n\nasync function _copyFileContents(src, dst) {\n    return new Promise(async (resolve, reject) => {\n        fs.readFile(src, async (err, data) => {\n            if(err) {\n                reject(err);\n            } else {\n                fs.writeFile(dst, data, function (writeErr) {\n                    writeErr?\n                        reject(writeErr):\n                        resolve();\n                });\n            }\n        });\n    });\n}\n\nasync function _copyFile(srcFile, dst) {\n    let dstStat = await _stat(dst);\n    if(!dstStat){\n        let parentDir= window.path.dirname(dst);\n        let dstFileName= window.path.basename(dst);\n        dstStat = await _stat(parentDir);\n        if(dstStat && dstStat.isDirectory()){\n            let dstFilePath =`${parentDir}/${dstFileName}`;\n            await _copyFileContents(srcFile, dstFilePath);\n            return;\n        } else {\n            throw new Errors.EIO(`_copyFile Cannot create destination file: ${dst}`);\n        }\n    }\n\n    let srcFileName= window.path.basename(srcFile);\n    if(dstStat && dstStat.isDirectory()){\n        let dstFilePath =`${dst}/${srcFileName}`;\n        await _copyFileContents(srcFile, dstFilePath);\n    } else if(dstStat && dstStat.isFile()){\n        throw new Errors.EEXIST(`_copyFile Destination file already exists: ${dst}`);\n    } else {\n        throw new Errors.EIO(`_copyFile Cannot copy file, unknown destination: ${srcFile} to ${dst}`);\n    }\n}\n\nasync function _copyTree(src, dst) {\n    let srcEntries = await _readDir(src);\n    for(let entry of srcEntries){\n        let entryPath = `${src}/${entry}`;\n        let dstPath = `${dst}/${entry}`;\n        let srcStat = await _stat(entryPath);\n        if(srcStat.isFile()){\n            await _copyFileContents(entryPath, dstPath);\n        } else { //dir\n            await _mrdirIfNotPresent(dstPath);\n            await _copyTree(entryPath, dstPath);\n        }\n    }\n}\n\nasync function _copyFolder(srcFolder, dst) {\n    let dstStat = await _stat(dst);\n    if(dstStat && dstStat.isFile()){\n        throw new Errors.EEXIST(`Destination file already exists: ${dst}`);\n    } else if(dstStat && dstStat.isDirectory()){\n        await _copyTree(srcFolder, dst);\n    } else {\n        throw new Errors.ENONET(`Destination folder does not exist: ${dst}`);\n    }\n}\n\nasync function copy(src, dst, callback) {\n    try {\n        let srcStat = await _stat(src);\n        if(!srcStat){\n            callback(new Errors.EIO(`Cannot copy src: ${src}`));\n            return;\n        }\n        if (srcStat.isFile()) {\n            await _copyFile(src, dst);\n            callback(null);\n        } else if (srcStat.isDirectory()) {\n            await _copyFolder(src, dst);\n            callback(null);\n        }\n    } catch (e) {\n        callback(new Errors.EIO(`${e}: Cannot copy src: ${src} to ${dst}`));\n    }\n}\n\nfunction filerCopy(src, dst, cb) {\n    copy(window.path.normalize(src), window.path.normalize(dst), cb);\n}\n\nexport default filerCopy;\n"],"names":[],"version":3,"file":"fslib.js.map"}